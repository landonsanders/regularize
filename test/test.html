<DOCTYPE html>
<html>
	<head>
		<title>Regularize</title>

		<link rel="stylesheet" type="text/css" href="../css/style.css">
	</head>
	<body>
		<div class="container">
			<h1>Tests</h1>
			<p>The result of the tests are in the console!?</p>
		</div>
		<script src="../js/regularize.js"></script>
		<script>
			// Testing assertions

			function assert(value) {
				var result;

				result = (value)? true: false;

				return result;
			}

			function ok(value, description) {
				var result, condition;
				
				condition = assert(value);
				result = (condition)? 'PASS: ' + description: 'FAIL: ' + description;

				console.log(result);
			}
			
			// Testing spy
			
			function spyOn(subject, methodName) {
				var result, CALLED;
				
				CALLED = false;
				
				
				function result() {
					result.CALLED = true;
					return undefined;
				}
				
				result.CALLED = CALLED;
				
				subject[methodName] = result;
				
				return subject;
			}
			
			function setUp(callback) {
				callback();
				return undefined;
			}
			
			function tearDown(callback) {
				callback();
				return undefined;
			}

			(function () {
				var instance, temp;
			
				ok(Regularize && typeof Regularize === 'function', 'Ought to be truthy; ought to be a function.');
				ok(R && typeof R === 'function', 'Ought to be truthy; ought to be a function.');
				
				setUp(function () {
					result = new R('1. Go to Market 2. Stay home 3. Have roast beef 4. Have none 5. Cry wee wee wee');					
				});
				
				ok(result && typeof result ==='object', 'Ought to be truthy; ought to be an object.');
				ok(result && typeof result.exp ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.search ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.match ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result._match ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.replace ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.inText ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.startsText ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.endsText ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.endsWith ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.startsWith ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.words ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.digits ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.wordsAndDigits ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.characters ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.firstMatch ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.lastMatch ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.nthMatch ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.count ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.ignore ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.all ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.notAll ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.notIgnore ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.anyCharacter ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.anyWord ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.anyDigit ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.anyDigits ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.anyDigitsAndWords ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.followedBy ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.build ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.getBuildResult ==='function', 'Ought to be truthy; ought to have a certain method.');
				ok(result && typeof result.getResult ==='function', 'Ought to be truthy; ought to have a certain method.');
			})();
			
			result = spyOn(result, 'match');
			
			result._match();
			ok(result.match.CALLED, 'Ought to be truthy.');
			
			tearDown(function () {
				result = new R('1. Go to Market 2. Stay home 3. Have roast beef 4. Have none 5. Cry wee wee wee');
			});
			
			ok(typeof result.match.CALLED === 'undefined', 'Ought to be undefined.')
		</script>
	</body>
</html>


