<DOCTYPE html>
<html>
	<head>
		<title>Regularize</title>

		<link rel="stylesheet" type="text/css" href="../css/style.css">
	</head>
	<body>
		<div class="container">
			<h1>Tests</h1>
			<p>Testing is important, because it tells you what code is and what it does (<em>The result of the tests are in the console.</em>).</p>
		</div>
		<script src="../js/regularize.js"></script>
		<script>
			// Testing assertions

			function assert(value) {
				var result;

				result = (value)? true: false;

				return result;
			}

			function ok(value, description) {
				var result, condition;
				
				condition = assert(value);
				result = (condition)? 'PASS: ' + description: 'FAIL: ' + description;

				console.log(result);
			}
			
			// Testing spy
			
			function spyOn(subject, methodName) {
				var result, CALLED;
				
				CALLED = false;
				
				
				function result() {
					result.CALLED = true;
					return undefined;
				}
				
				result.CALLED = CALLED;
				
				subject[methodName] = result;
				
				return subject;
			}
		</script>

		<script>
			var result, temp;
		
			ok(Regularize && typeof Regularize === 'function', 'Ought to be truthy; ought to be a function.');

			result = new Regularize("1. hello hay world\n2. hey again world");

			ok(result.execute, 'Ought to be truthy.');
			ok(result.next, 'Ought to be truthy.');
	
			ok(result.words, 'Ought to be truthy.');

			temp = result.words().execute().result;
			ok(temp && temp === 'hello', 'Ought to be truthy; ought to be something else.');

			ok(result.digits, 'Ought to be truthy.');

			temp = result.digits().execute().result;
			ok(temp && temp === '1', 'Ought to be truthy; ought to be something else.');

			ok(result.wordsAndDigits, 'Ought to be truthy.');

			temp = result.wordsAndDigits().execute().result;
			ok(temp && temp === '1', 'Ought to be truthy; ought to be something else.');

			temp = result.next().result;
			ok(temp && temp === 'hello', 'Ought to be truthy; ought to be something else.');

			/*
				result = spyOn(result, '_index');
				
				result.index();
				ok(!result._index.CALLED, 'Ought to be falsy');
				ok(!!result._index.CALLED, 'Ought to be falsy');
			*/
		</script>
	</body>
</html>
